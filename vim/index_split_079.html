<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Vim实用技巧</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p id="filepos400783" class="calibre_8"><span class="calibre1"><span class="bold">技巧68给宏追加命令</span></span></p><p class="calibre_9"> 有时候，我们在录制宏的过程中会漏掉某个至关重要的步骤。在这种情况下，我们没必要从头开始重录所有的步骤，而是可以在现有宏的结尾附加额外的命令。 </p><p class="calibre_7">假设要录制以下宏（源于技巧67）：</p><p class="calibre_6"><img src="images/00103.jpg" class="calibre_187"/></p><p class="calibre_6">我们刚一按下<span class="bold">q</span>键，停止了宏的录制，才发现应该在结束之前按一下<span class="bold">j</span>键，将光标移至下一行。</p><p class="calibre_7">在解决此问题之前，先检查一下寄存器<span class="bold">a</span>中的内容：</p><p class="calibre_8"><span class="bold">➾:reg a</span></p><p class="calibre_8"><span class="calibre6"> 《 "a 0f.r)w~ </span></p><p class="calibre_7">在我们输入<span class="bold">qa</span>时，Vim将开始录制接下来的按键操作，并将它们保存到寄存器<span class="bold">a</span>中，这会覆盖该寄存器原有的内容。如果我们输入的是<span class="bold">qA</span>的话，Vim也会录制按键操作，但会把它们附加到寄存器<span class="bold">a</span>原有的内容之后。我们可以用这种方式更正该错误：</p><p class="calibre_6"><img src="images/00238.jpg" class="calibre_188"/></p><p class="calibre_6">现在，让我们再检查一下寄存器<span class="bold">a</span>有什么变化：</p><p class="calibre_8"><span class="bold">➾:reg a</span></p><p class="calibre_8"><span class="calibre6"> 《 "a 0f.r)w~j </span></p><p class="calibre_7">第一次录制的所有命令还在那里，只不过现在变成以<span class="bold">j</span>结尾了。</p><p class="calibre_8"><span class="calibre2"><span class="bold">结论</span></span></p><p class="calibre_9">这条小技巧把我们从“被迫重新录制宏”的窘境中解救出来。但此法只能在宏的结尾添加命令，如果想在宏的开头或者中间的某个位置添加内容的话，它就无能为力了。在技巧71中，我们将学习一种更有效的方法，用于修改已录制好的宏。</p><p class="calibre_5">
<a></a>
</p><div class="mbp_pagebreak" id="calibre_pb_90"></div>
</body></html>
