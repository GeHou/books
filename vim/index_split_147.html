<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Vim实用技巧</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p id="filepos697097" class="calibre_8"><span class="calibre1"><span class="bold">A.1动态改变Vim的设置项</span></span></p><p class="calibre_9">Vim有数以百计的选项供我们定制其行为（完整的列表请参见<span class="bold">:h option-list</span><img src="images/00243.jpg" class="calibre_10"/>）。我们可以通过<span class="bold">:set</span>命令来改变它们。</p><p class="calibre_7">以<span class="bold">‘ignorecase’</span>选项为例（已在技巧72中进行过讨论）。这是一个布尔型的选项，要么打开，要么关闭。我们可以通过以下命令将其打开：</p><p class="calibre_8"><span class="bold">➾ :set ignorecase</span></p><p class="calibre_9">为了关闭此功能，我们要在设置项的名字前添加单词“no”：</p><p class="calibre_8"><span class="bold">➾ :set noignorecase</span></p><p class="calibre_9">如果我们在某个布尔类型的选项之后添加叹号，则可以反转该设置：</p><p class="calibre_8"><span class="bold">➾ :set ignorecase!</span></p><p class="calibre_9">如果我们在结尾加一个问号，则可以获取该选项当前的状态：</p><p class="calibre_8"><span class="bold">➾ :set ignorecase?</span></p><p class="calibre_8"><span class="calibre8"> 《 ignorecase </span></p><p class="calibre_7">我们还可以通过引入<span class="bold">&amp;</span>号后缀，将任意选项重置为默认值：</p><p class="calibre_8"><span class="bold">➾ :set ignorecase&amp; </span></p><p class="calibre_8"><span class="bold">➾ :set ignorecase?</span></p><p class="calibre_8"><span class="calibre8"> 《 noignorecase </span></p><p class="calibre_7">有些Vim设置项的参数要用到字符串或者数字。例如，<span class="bold">’tabstop’</span>选项要求我们指定制表符所占的列数（参见<span class="bold">:h 'tabstop'</span><img src="images/00243.jpg" class="calibre_10"/>）。我们可以通过以下方式设置该值：</p><p class="calibre_8"><span class="bold">➾ :set tabstop=2</span></p><p class="calibre_9">我们还可以用一条 set 语句设置多组选项：</p><p class="calibre_8"><span class="bold">➾ :set ts=2 sts=2 sw=2 et</span></p><p class="calibre_9"> 注意：’softtabstop’、’shifwidth’ 以及’exandtab’ 选项也会影响Vim的缩进策略。如果想要了解更多的信息，请查阅Vimcasts上有关制表符和空格的主题<sup class="calibre5"><small id="filepos699708" class="calibre6"><a href="index_split_149.html#filepos707784" class="calibre2"><span class="calibre7"><span class="calibre_2"><span class="underline">(1)</span></span></span></a></small></sup>。 </p><p class="calibre_7">另外，大多数Vim选项都有其简写形式。例如，<span class="bold">’ignorecase’</span>设置项可被简写为<span class="bold">ic</span>。因此，我们可以通过<span class="bold">:se ic!</span>切换该功能或者用<span class="bold">:se noic</span>关闭该功能。在动态定制Vim时，我更倾向使用选项的简写名称，这样做很方便；但在配置<span class="bold">vimrc</span>文件时，出于可读性的考虑，我更喜欢使用全称。</p><p class="calibre_7">Vim的设置项通常全局生效，但有些选项只对一个窗口或缓冲区生效。例如，当我们运行<span class="bold">:setlocal tabstop=4</span>时，只会影响当前活动的缓冲区。这意味着我们可以打开不同的文件，并为每个文件单独定制<span class="bold">’tabstop’</span>设置项。如果我们想在现有的所有缓冲区内应用同样的设置，可以运行以下命令：</p><p class="calibre_8"><span class="bold">➾ :bufdo setlocal tabstop=4</span></p><p class="calibre_9"><span class="bold">‘number’</span>选项只在窗口范围内生效。当我们运行<span class="bold">:setlocal number</span>时，Vim将会激活当前活动窗口的显示行号功能。如果我们想为每个窗口都激活该功能，可以运行下面这条命令：</p><p class="calibre_8"><span class="bold">➾ :windo setlocal number</span></p><p class="calibre_9">由<span class="bold">:setlocal</span>命令所触发的改动，只会影响当前窗口或者缓冲区（除非该选项只能被设置为全局性的）。假设我们运行了<span class="bold">:set number</span>，Vim将为当前窗口激活显示行号功能，与此同时，这条命令也会设置一个新的全局缺省值。这样一来，<a class="calibre2"></a>现有的窗口依旧保持它们原有的本地设置（local setting），但是新的窗口将会应用新的全局性设置。</p><div class="mbp_pagebreak" id="calibre_pb_169"></div>
</body></html>
