<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Vim实用技巧</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p id="filepos672691" class="calibre_8"><span class="calibre1"><span class="bold">技巧117根据上下文自动补全</span></span></p><p class="calibre_9"> 全能补全是由Vim实现的intellsense 功能<sup class="calibre5"><small id="filepos672902" class="calibre6"><a href="#filepos675539" class="calibre2"><span class="calibre7"><span class="calibre_2"><span class="underline">(1)</span></span></span></a></small></sup>。它将提供一份为光标所处的上下文量身定做的补全建议列表。在本节中，我们将看到它在CSS文件的上下文中是如何工作的。 </p><p class="calibre_"><img src="images/00114.jpg" class="calibre_293"/>
</p><p class="calibre_"><span class="calibre8">图5 </span><span class="calibre8"><span class="bold">——</span></span><span class="calibre8">CSS属性与值的全能补全</span></p><p class="calibre_75">全能补全功能可通过<span class="bold">&lt;C-x&gt;&lt;C-o&gt;</span>命令（参见<span class="bold">:h compl-omni</span><img src="images/00243.jpg" class="calibre_10"/>）进行触发。</p><p class="calibre_7">实际上，该功能由专用的文件类型插件实现，因此，我们必须先加载以下配置行：</p><p class="calibre_"><img src="images/00076.jpg" class="calibre_294"/></p><p class="calibre_7">此外，我们还必须安装一个为所用语言实现了全能补全功能的插件。Vim的发行版本身就支持十几种语言，包括HTML、CSS、JavaScript、PHP以及SQL。你可以通过<span class="bold">:h compl-omni-filetypes</span><img src="images/00243.jpg" class="calibre_10"/>找到完整的列表。</p><p class="calibre_7">图5展示了在某个CSS文件中有两处有细微不同的上下文时，触发全能补全的结果。在第一次触发全能补全时，由于“ba”作为CSS属性的一部分，因此显示的列表内容将包括<span class="bold">background</span>、<span class="bold">background-attachment</span>以及其他的几种属性。在此例中，我们选择的是<span class="bold">background-color</span>。而当第二次触发全能补全时，尽管我们没有输入任何文本，但Vim会根据上下文判断出我们需要的是颜色信息，因此，它为我们提供了3项补全建议：<span class="bold">#</span>、<span class="bold">rgb(</span>以及<span class="bold">transparent</span>。</p><p class="calibre_7">CSS相对静态的语法特性决定了其非常适合采用全能补全功能，但如果你想在某个编程语言环境中使用该功能，实际的情况可能有所不同。如果你对基于某个特定语言的全能补全功能不满意，就到官网上淘个新插件，或者干脆自己写一个。要了解如何撰写全能补全插件，你可以查阅<span class="bold">:h complete-functions</span><img src="images/00243.jpg" class="calibre_10"/>。</p><p class="calibre_5">
<a id="filepos675539" class="calibre2"></a><a href="#filepos672902" class="calibre2"><span class="calibre_2"><span class="underline">(1)</span></span></a> intellsense 是Intelligent Sense的缩写，指的是一套编程环境，它通过减少程序员常犯的误解、笔误以及其他错误，帮助他们加快编码的流程。http://en.wikipedia.org/wiki/Intelli-sense。——译者注 </p><div class="mbp_pagebreak" id="calibre_pb_155"></div>
</body></html>
