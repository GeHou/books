<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Vim实用技巧</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p id="filepos271312" class="calibre_8"><span class="calibre1"><span class="bold">技巧47区分实际行与屏幕行</span></span></p><p class="calibre_9"> 我们需要了解一下实际行与屏幕行间的差别，不然就很容易产生挫败感。Vim 允许我们针对此两者进行操作。 </p><p class="calibre_7">与许多文本编辑器不同，Vim会区分实际行与屏幕行。当<span class="bold">‘wrap’</span>设置被启用时（缺省启用），每个超出窗口宽度的文本行都会被回绕显示，以保证没有文本显示不出来。这样一来，文件中的一行也许会被显示为屏幕上的若干行。</p><p class="calibre_7">要想知道实际行与屏幕行之间的不同，最简单的方法是启用<span class="bold">‘number’</span>设置。启用后，以行号开头的行对应着一个实际行，它们会占据着屏幕上的一行或几行；当一行文本为适应窗口宽度而回绕时，回绕行的前面则不会显示行号。下面的屏幕截图中显示了一个缓冲区，它包括3个实际行（以行号标识），不过却显示为9个屏幕行。</p><p class="calibre_7"><img src="images/00179.jpg" class="calibre_109"/><br class="calibre4"/></p><p class="calibre_7">理解实际行与屏幕行间的差别很重要，因为Vim提供了不同的动作命令来操作这两者。<span class="bold">j</span>和<span class="bold">k</span>命令会根据实际行向下及向上移动，而<span class="bold">gj</span>和<span class="bold">gk</span>则是按屏幕行向下及向上移动。</p><p class="calibre_7">以上面的屏幕截图为例，假设我们想把光标向上移，把它移到单词“vehicula”上。目标单词位于光标之上的一个屏幕行，因此我们按<span class="bold">gk</span>就可以移到那里；但如果是用<span class="bold">k</span>键的话，它会向上移动一个实际行，就把光标移到单词“ac”上去了，这并不是我们想要的结果。</p><p class="calibre_7">另外，Vim 也提供了直接跳到行首及行尾的命令。下表对操作实际行和屏幕行的命令进行了总结：</p><p class="calibre_5">
<a class="calibre2"></a>
</p><p class="calibre_6"><img src="images/00075.jpg" class="calibre_110"/></p><p class="calibre_6">你可以留意到这样一个特点，即<span class="bold">j</span>、<span class="bold">k</span>、<span class="bold">0</span>和<span class="bold">$</span>都用于操作实际行，而如果在这些键前加上<span class="bold">g</span>前缀的话，就会让 Vim 对屏幕行进行操作。</p><p class="calibre_7">除Vim以外，其他大多数文本编辑器都没有实际行的概念，它们只提供操作屏幕行的手段。刚开始了解到Vim会区分对待这两者时，你可能会感觉不适。但当你学会使用<span class="bold">gj</span>和<span class="bold">gk</span>命令后，你就会感谢<span class="bold">j</span>和<span class="bold">k</span>可以让你用更少的键移动更远的距离。</p><p class="calibre_6">重新映射面向行的动作命令</p><p class="calibre_6"> 如果你想让j及k命令操作屏幕行而不是实际行，你可以重新映射一下它们。试着把下面这些行加到你的 vimrc 文件中： </p><p class="calibre_"><img src="images/00201.jpg" class="calibre_111"/></p><p class="calibre_7"> 这些映射项使j和k基于屏幕行向下或向上移动，而gj和gk则基于实际行向下和向上移动（与 Vim 的缺省设置刚好相反）。如果你不得不在许多不同计算机上用 Vim，我不太推荐你用这些映射项。这种情况下还是用 Vim 的缺省设置比较好。 </p><p class="calibre_5">
<a class="calibre2"></a>
</p><div class="mbp_pagebreak" id="calibre_pb_63"></div>
</body></html>
