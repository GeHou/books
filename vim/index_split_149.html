<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Vim实用技巧</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p id="filepos704716" class="calibre_8"><span class="calibre1"><span class="bold">A.3为特定类型的文件应用个性化设置</span></span></p><p class="calibre_9">我们的偏好设置有可能根据文件的类型不同而有所差异。举个例子，假设排版格式要求，对 Ruby文件要采用两个空格的缩进，而对JavaScript文件采用4列宽度的制表符。为此，我们可以将以下文本行添加至<span class="bold">vimrc</span>，应用这些设置：</p><p class="calibre_"><img src="images/00040.jpg" class="calibre_300"/></p><p class="calibre_7"><span class="bold">autocmd</span>语句的检测机制将指示Vim监听某一类事件，一旦该事件发生，Vim将执行指定的命令（参见<span class="bold">:h :autocmd</span><img src="images/00243.jpg" class="calibre_10"/>）。在本例中，我们将监听<span class="bold">FileType</span>事件，它会在Vim检测出当前文件类型时被触发。</p><p class="calibre_7">我们可以为相同类型的事件添加不止一条自动命令。假设我们想采用<span class="bold">nodelint</span>来检查JavaScript类型的文件，就可以将以下文本添加到上例中：</p><p class="calibre_"><img src="images/00135.jpg" class="calibre_301"/></p><p class="calibre_7">每当JavaScript类型文件中的<span class="bold">FileType</span>事件被触发时，这两条自动命令都会被执行。</p><p class="calibre_7">如果你只是为特定类型的文件定制一至两处选项的话，那么，将这些自动命令置于<span class="bold">vimrc</span>中就可以工作得很好了。但如果我们想在某一类文件中应用很多项设置，这样做将使得<span class="bold">vimrc</span>变得很乱。另一种方法是使用文件类型插件（<span class="bold">ftplugin</span>），来为不同文件类型进行定制。这一次，我们不是在<span class="bold">vimrc</span>添加自动命令来设置JavaScipt文件类型的偏好，而是将它们移到路径为<span class="bold">~/.vim/after/ftplugin/javascript.vim</span>的文件中去：</p><p class="calibre_5">
<a class="calibre2"></a>
</p><p class="calibre_"><img src="images/00069.jpg" class="calibre_302"/></p><p class="calibre_7">该文件就像普通的<span class="bold">vimrc</span>文件，但这些设置项只会在JavaScript类型的文件中才会应用。我们也可以针对Ruby的定制选项创建<span class="bold">ftplugin/ruby.vim</span>文件，或者对我们常用的其他类型文件进行定制。更多细节请查阅<span class="bold">:h ftplugin-name</span><img src="images/00243.jpg" class="calibre_10"/>。</p><p class="calibre_7">为了能够使用<span class="bold">ftplugin</span>机制，我们必须确保检测文件类型的功能以及插件功能都被激活了。请检查一下<span class="bold">vimrc</span>，看看是否包含了这行文本：</p><p class="calibre_"><img src="images/00225.jpg" class="calibre_303"/></p><p class="calibre_5">
<a id="filepos707784" class="calibre2"></a><a href="index_split_147.html#filepos699708" class="calibre2"><span class="calibre_2"><span class="underline">(1)</span></span></a> http://vimcasts.org/e/2 </p><div class="mbp_pagebreak" id="calibre_pb_171"></div>
</body></html>
