<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Vim实用技巧</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p id="filepos669341" class="calibre_8"><span class="calibre1"><span class="bold">技巧116自动补全文件名</span></span></p><p class="calibre_9"> 当我们在命令行上工作时，可以用&lt;Tab&gt;来自动补全路径中的目录和文件名。借助于文件名自动补全的方式，我们也可以在Vim的编辑窗口中完成相同的操作。文件名自动补全功能可以通过&lt;C-x&gt;&lt;C-f&gt;命令（参见 :h compl-filename<img src="images/00243.jpg" class="calibre_10"/>）进行触发。 </p><p class="calibre_7">Vim总是维护着一个当前工作目录，这一做法与shell类似。在任何给定的时间点，我们都可以通过<span class="bold">:pwd</span>命令（print working directory）获取到该信息，还可以通过<span class="bold">:cd {path}</span>命令（change directory）随时切换工作目录。另外，Vim的文件名自动补全功能只相对于工作目录的路径进行扩展，而不是相对于当前编辑文件的路径，理解这一点很重要。</p><p class="calibre_7">假设我们正在开发一个由下列文件组成的小型web 应用：</p><p class="calibre_"><img src="images/00139.jpg" class="calibre_290"/></p><p class="calibre_7">此时，正在编辑index.html这个文件：</p><p class="calibre_"><img src="images/00156.jpg" class="calibre_291"/></p><p class="calibre_7">我们的目的，是想把<span class="bold">src=""</span>的属性填充为<span class="bold">application.js</span>文件的路径。但如果我们想通过文件名自动补全的方式实现这一点的话，会遇到点麻烦：</p><p class="calibre_8"><span class="bold">➾:pwd</span></p><p class="calibre_9"><span class="calibre8">《 </span><span class="calibre8"><span class="bold">webapp</span></span></p><p class="calibre_75">倘若我们此刻就调用文件名自动补全的话，它补全的内容将是相对于<span class="bold">webapp</span>的路径，即<span class="bold">src="public/js/application.js"</span>。但实际上，我们想让其引用的是<span class="bold">src="js/application.js"</span>。因此，如果我们想用文件名自动补全的话，必须先切换到<span class="bold">public</span>目录：</p><p class="calibre_8"><span class="bold">➾:cd public</span></p><p class="calibre_9">现在我们就可以调用文件名自动补全了，它补全的内容将是相对于<span class="bold">webapp/public</span>的路径：</p><p class="calibre_"><img src="images/00186.jpg" class="calibre_292"/></p><p class="calibre_7">插入了文件路径后，我们可以重新回到原来的工作目录：</p><p class="calibre_8"><span class="bold">➾:cd -</span></p><p class="calibre_9">与shell的用法类似，<span class="bold">cd</span> - 将切换到之前的工作目录（参见<span class="bold">:h :cd-</span><img src="images/00243.jpg" class="calibre_10"/>）。</p><p class="calibre_7">在描述文件名自动补全功能的文档中指出“（目前）这里不使用<span class="bold">‘path’</span>选项”。也许在未来的Vim版本中，我们不用切换目录就可以利用该功能完成那个假想的Web应用任务了。</p><div class="mbp_pagebreak" id="calibre_pb_154"></div>
</body></html>
