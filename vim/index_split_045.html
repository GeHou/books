<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Vim实用技巧</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p id="filepos219841" class="calibre_8"><span class="calibre1"><span class="bold">技巧39将工作区切分成窗口</span></span></p><p class="calibre_9">Vim 允许我们将工作区切分成若干窗口，在这些窗口里并排显示多个缓冲区。</p><p class="calibre_6">在Vim 术语中，窗口是缓冲区的显示区域（参见<span class="bold">:h window</span><img src="images/00243.jpg" class="calibre_10"/>）。我们既可以打开多个窗口，在这些窗口中显示同一个缓冲区，也可以在每个窗口里载入不同的缓冲区。Vim 的窗口管理系统很灵活，我们可以根据工作的需要来调整工作区。</p><p class="calibre_8"><span class="calibre2"><span class="bold">创建分割窗口</span></span></p><p class="calibre_9">Vim 在启动时只会打开单个窗口。用<span class="bold">&lt;C-w&gt;s</span>命令可以水平切分此窗口，使之成为两个高度相同的窗口；或者可以用<span class="bold">&lt;C-w&gt;v</span>命令对其进行垂直切分，这样会产生两个宽度相同的窗口。这两条命令可以重复任意多次，结果就会把工作区一次次地切分为更小的窗口，就像细胞分裂那样。</p><p class="calibre_7">图6-1展示了切分后的效果，图中的阴影区域代表活动窗口。</p><p class="calibre_"><img src="images/00237.jpg" class="calibre_95"/>
</p><p class="calibre_"><span class="calibre6">图6-1分割窗口效果</span></p><p class="calibre_75">每次执行完<span class="bold">&lt;C-w&gt;s</span>和<span class="bold">&lt;C-w&gt;v</span>命令后，新生成的两个窗口都会显示与原窗口相同的缓冲区。把同一缓冲区显示在不同窗口里会很有用，特别是在编辑长文件时。举个例子，我们可以滚动其中一个窗口，使之显示缓冲区的一部分，这样，在修改第二个窗口中缓冲区的另外一部分时，就可以参考第一个窗口中的内容。</p><p class="calibre_7">我们可以用<span class="bold">:edit</span>命令把另外一个缓冲区载入活动窗口中。如果先执行<span class="bold">&lt;C-w&gt;s</span>，再执行<span class="bold">:edit {filename}</span>，就会把工作区分成两个窗口，并在其中一个窗口中打开新缓冲区，而另一个窗口则继续显示原有的缓冲区。另外一种做法是使用<span class="bold">:split {filename}</span>命令，它把上述两步合并成为了一步。下表总结了把工作区切分为窗口的几种方式：</p><p class="calibre_7"><img src="images/00241.jpg" class="calibre_96"/><br class="calibre3"/></p><p class="calibre_8"><span class="calibre2"><span class="bold">在窗口间切换</span></span></p><p class="calibre_9">Vim 提供了一些在窗口间进行切换的命令，下表总结了其中最常用的一些命令（完整命令列表参见<span class="bold">:h window-move-cursor</span><img src="images/00243.jpg" class="calibre_10"/>）：</p><p class="calibre_6"><img src="images/00244.jpg" class="calibre_97"/></p><p class="calibre_6">实际上，<span class="bold">&lt;C-w&gt;&lt;C-w&gt;</span>完成的功能和<span class="bold">&lt;C-w&gt;w</span>相同，就是说我们可以一直按住<span class="bold">&lt;Ctrl&gt;</span>键，然后再输入<span class="bold">ww</span>（或<span class="bold">wj</span>，或上表中的其他命令）来切换活动窗口。<span class="bold">&lt;C-w&gt;&lt;C-w&gt;</span>要比<span class="bold">&lt;C-w&gt;w</span>更容易按一些，尽管写出来时它显得更繁琐。如果经常使用多个窗口，那么你可能需要考虑把这些命令映射成更方便的按键。</p><p class="calibre_7">如果你的终端支持鼠标操作的话，或是你用的是 GVim，那么你也可以通过鼠标点击来激活一个窗口。如果你用不了鼠标，请检查一下<span class="bold">‘mouse’</span>选项是否被正确设置了（参见<span class="bold">:h ‘mouse’</span><img src="images/00243.jpg" class="calibre_10"/>）。</p><p class="calibre_5">
<a></a>
</p><p class="calibre_8"><span class="calibre2"><span class="bold">关闭窗口</span></span></p><p class="calibre_9">想减少工作区中窗口的数量，可以用两种方式：一是使用<span class="bold">:close</span>命令关闭活动窗口，二是用<span class="bold">:only</span>命令关闭除活动窗口外的所有其他窗口。下表总结了这两条命令，并列出了与之等效的普通模式命令：</p><p class="calibre_7"><img src="images/00250.jpg" class="calibre_98"/><br class="calibre3"/></p><p class="calibre_8"><span class="calibre2"><span class="bold">改变窗口大小及重新排列窗口</span></span></p><p class="calibre_9">Vim 提供了一些用于改变窗口大小的按键映射项，完整的列表请查阅 <span class="bold">:h window-resize</span><img src="images/00243.jpg" class="calibre_10"/>，下表中列出了最常用的几个命令：</p><p class="calibre_6"><img src="images/00253.jpg" class="calibre_99"/></p><p class="calibre_6">改变窗口大小是我喜欢用鼠标做的少量操作之一，其做法很简单。点击窗口间的分隔线，拖动鼠标直至窗口变成期望的大小，然后松开鼠标即可。不过，只有当你的终端支持鼠标，或是你在用 GVim 时才能用这个功能。</p><p class="calibre_7">Vim 也有用于重排窗口的命令，但此处不再赘述，这里给出一个Vimcasts.org的链接，其屏幕截图讲解了如何对窗口进行重排<sup class="calibre4"><small id="filepos225516" class="calibre5"><a href="index_split_046.html#filepos232323"><span class="calibre5"><span class="calibre_2"><span class="underline">(2)</span></span></span></a></small></sup>。你也可以查阅<span class="bold">:h window-moving</span><img src="images/00243.jpg" class="calibre_10"/>以了解更多细节。</p><div class="mbp_pagebreak" id="calibre_pb_51"></div>
</body></html>
