<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>未知</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<h2 id="nav_point_65" class="calibre6"><strong class="calibre2">3.1　环境变量</strong></h2>
<p class="calibre1">在设置了 <code class="calibre11">PGHOST</code>、<code class="calibre11">PGPORT</code> 和 <code class="calibre11">PGUSER</code> 等环境变量后，在调用 psql 命令行时就可以不用显式地指定主机、端口和用户，系统会自动使用环境变量设定的值，这一点跟 PostgreSQL 自带的其他命令行工具是一样的。关于环境变量的使用细节，请参考官方手册中“环境变量”这一节的介绍（<a href="http://www.postgresql.org/docs/current/interactive/libpq-envars.html" class="calibre5">http://www.postgresql.org/docs/current/interactive/libpq-envars.html</a>）。你也可以用 <code class="calibre11">PGPASSWORD</code> 这个环境变量来设置登录密码，或者是通过密码文件来设置也可以。有关密码文件的详细信息，请参见官方手册中“密码文件”这一节的介绍（<a href="http://www.postgresql.org/docs/current/interactive/libpq-pgpass.html" class="calibre5">http://www.postgresql.org/docs/current/interactive/libpq-pgpass.html</a>）。从 PostgreSQL 9.2 版开始，psql 开始支持以下两个新的环境变量。</p>
<ul class="calibre9">
<li class="calibre10"><p class="calibre1">PSQL_HISTORY</p>
<p class="calibre1">该变量用于设置 psql 历史日志文件名，该日志中记录了近期通过 psql 执行过的所有命令行，其默认值为 ~/.psql_history。</p>
</li>
<li class="calibre10"><p class="calibre1">PSQLRC</p>
<p class="calibre1">该变量用于设置配置文件的路径和文件名。</p>
</li>
</ul>
<p class="calibre1">如果你既未设定相应的环境变量也未在命令行中指定相关形参，那么 psql 会使用系统默认值。在本章示例中，我们假定你使用默认值或已设置这些变量。如果你使用 pgAdmin 工具，那么也可以通过其工具栏上的“插件”菜单项来直接打开 psql（详见 4.2.1 节的内容），点击后会打开一个已经连接到相应 database 的 psql 窗口。</p>
</body></html>
