<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>未知</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<h2 id="nav_point_153" class="calibre7"><strong class="calibre6">11.4　模板方法模式的使用场景</strong></h2>
<p class="calibre1">从大的方面来讲，模板方法模式常被架构师用于搭建项目的框架，架构师定好了框架的骨架，程序员继承框架的结构之后，负责往里面填空，比如Java程序员大多使用过HttpServlet技术来开发项目。</p>
<p class="calibre1">一个基于HttpServlet的程序包含7个生命周期，这7个生命周期分别对应一个<code class="calibre9">do</code>方法。</p>
<pre class="Dai Ma Wu Xing Hao "><code class="calibre9">doGet()
doHead()
doPost()
doPut()
doDelete()
doOption()
doTrace()

</code></pre>
<p class="calibre1"><code class="calibre9">HttpServlet</code>类还提供了一个<code class="calibre9">service</code>方法，它就是这里的模板方法，<code class="calibre9">service</code>规定了这些<code class="calibre9">do</code>方法的执行顺序，而这些<code class="calibre9">do</code>方法的具体实现则需要<code class="calibre9">HttpServlet</code>的子类来提供。</p>
<p class="calibre1">在Web开发中也能找到很多模板方法模式的适用场景，比如我们在构建一系列的UI组件，这些组件的构建过程一般如下所示：</p>
<p class="calibre1">(1) 初始化一个div容器；</p>
<p class="calibre1">(2) 通过ajax请求拉取相应的数据；</p>
<p class="calibre1">(3) 把数据渲染到div容器里面，完成组件的构造；</p>
<p class="calibre1">(4) 通知用户组件渲染完毕。</p>
<p class="calibre1">我们看到，任何组件的构建都遵循上面的4步，其中第(1)步和第(4)步是相同的。第(2)步不同的地方只是请求ajax的远程地址，第(3)步不同的地方是渲染数据的方式。</p>
<p class="calibre1">于是我们可以把这4个步骤都抽象到父类的模板方法里面，父类中还可以顺便提供第(1)步和第(4)步的具体实现。当子类继承这个父类之后，会重写模板方法里面的第(2)步和第(3)步。</p>
</body></html>
