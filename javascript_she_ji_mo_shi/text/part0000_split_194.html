<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>未知</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<h2 id="nav_point_265" class="calibre7"><strong class="calibre6">22.8　少用三目运算符</strong></h2>
<p class="calibre1">有一些程序员喜欢大规模地使用三目运算符，来代替传统的<code class="calibre9">if</code>、<code class="calibre9">else</code>。理由是三目运算符性能高，代码量少。不过，这两个理由其实都很难站得住脚。</p>
<p class="calibre1">即使我们假设三目运算符的效率真的比<code class="calibre9">if</code>、<code class="calibre9">else</code>高，这点差距也是完全可以忽略不计的。在实际的开发中，即使把一段代码循环一百万次，使用三目运算符和使用<code class="calibre9">if</code>、<code class="calibre9">else</code>的时间开销处在同一个级别里。</p>
<p class="calibre1">同样，相比损失的代码可读性和可维护性，三目运算符节省的代码量也可以忽略不计。让JS文件加载更快的办法有很多种，如压缩、缓存、使用CDN和分域名等。把注意力只放在使用三目运算符节省的字符数量上，无异于一个300斤重的人把超重的原因归罪于头皮屑。</p>
<p class="calibre1">如果条件分支逻辑简单且清晰，这无碍我们使用三目运算符：</p>
<pre class="Dai Ma Wu Xing Hao "><code class="calibre9">var global = typeof window !== "undefined" ? window : this;

</code></pre>
<p class="calibre1">但如果条件分支逻辑非常复杂，如下段代码所示，那我们最好的选择还是按部就班地编写<code class="calibre9">if</code>、<code class="calibre9">else</code>。<code class="calibre9">if</code>、<code class="calibre9">else</code>语句的好处很多，一是阅读相对容易，二是修改的时候比修改三目运算符周围的代码更加方便：</p>
<pre class="Dai Ma Wu Xing Hao "><code class="calibre9">if ( !aup || !bup ) {
    return a === doc ? -1 :
        b === doc ? 1 :
        aup ? -1 :
        bup ? 1 :
        sortInput ?
        ( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :
        0;
}

</code></pre>
</body></html>
