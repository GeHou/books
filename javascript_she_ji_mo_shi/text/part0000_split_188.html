<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>未知</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<h2 id="nav_point_259" class="calibre7"><strong class="calibre6">22.2　合并重复的条件片段</strong></h2>
<p class="calibre1">如果一个函数体内有一些条件分支语句，而这些条件分支语句内部散布了一些重复的代码，那么就有必要进行合并去重工作。假如我们有一个分页函数<code class="calibre9">paging</code>，该函数接收一个参数<code class="calibre9">currPage</code>，<code class="calibre9">currPage</code>表示即将跳转的页码。在跳转之前，为防止<code class="calibre9">currPage</code>传入过小或者过大的数字，我们要手动对它的值进行修正，详见如下伪代码：</p>
<pre class="Dai Ma Wu Xing Hao "><code class="calibre9">var paging = function( currPage ){
    if ( currPage &lt;= 0 ){
        currPage = 0;
        jump( currPage );    // 跳转
    }else if ( currPage &gt;= totalPage ){
        currPage = totalPage;
        jump( currPage );    // 跳转
    }else{
        jump( currPage );    // 跳转
    }
};

</code></pre>
<p class="calibre1">可以看到，负责跳转的代码<code class="calibre9">jump( currPage )</code>在每个条件分支内都出现了，所以完全可以把这句代码独立出来：</p>
<pre class="Dai Ma Wu Xing Hao "><code class="calibre9">var paging = function( currPage ){
    if ( currPage &lt;= 0 ){
        currPage = 0;
    }else if ( currPage &gt;= totalPage ){
        currPage = totalPage;
    }
    jump( currPage );    // 把jump函数独立出来
};

</code></pre>
</body></html>
